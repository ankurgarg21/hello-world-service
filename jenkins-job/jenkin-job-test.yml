- job:
    name: test-spring-app
    node: localhost
    properties:
      - github:
          url: https://github.com/ankurgarg21/hello-world-service.git
    wrappers:
      - ansicolor
      - timestamps
      - inject-passwords:
          global: true
    scm:
      - git:
          url: https://github.com/ankurgarg21/hello-world-service.git
          credentials-id: cc81bdff-38af-4805-aef1-wewewewe
          branches:
            - '${sha1}'
          refspec: '+refs/pull/*:refs/remotes/origin/pr/*'

    triggers:
      - github-pull-request:
          github-hooks: true
          permit-all: true
    parameters:
      - string:
          name: sha1
    builders:
      - shell: |
         ansible-playbook -i hosts -v deploy.yml 
